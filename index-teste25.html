<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Simulado AMRIGS</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 700px; margin: auto; }
    .question { margin-bottom: 20px; }
    .option { margin: 5px 0; }
    .correct { background-color: #d4edda; }
    .incorrect { background-color: #f8d7da; }
    .flagged { color: red; }
    #controls { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Simulado AMRIGS</h1>

  <div id="question-box" class="question"></div>

  <div id="options-box"></div>

  <p id="explanation" style="display:none;"></p>

  <div id="controls">
    <button id="prev">Anterior</button>
    <button id="next">Pr√≥xima</button>
    <button id="show-answer">Mostrar Resposta</button>
    <button id="flag-toggle">üö© Marcar</button>
    <button id="filter-flagged">Mostrar Marcadas</button>
  </div>

  <script>
    const allQuestions = const allQuestions = [
  {
    "numero": 1,
    "area": "Cl√≠nica M√©dica",
    "question": "Sobre a hipertens√£o arterial sist√™mica, analise as assertivas a seguir: I. Para diagn√≥stico, indica-se a medi√ß√£o anual de press√£o arterial se a press√£o arterial aferida for inferior a 140/90 mmHg. II. O diagn√≥stico da hipertens√£o arterial sist√™mica deve ser baseado na medi√ß√£o da press√£o fora do consult√≥rio com monitoriza√ß√£o ambulatorial da press√£o arterial, desde que seja vi√°vel sua realiza√ß√£o. III. Hist√≥ria pr√©via de pr√©-ecl√¢mpsia em mulheres √© fator de risco para hipertens√£o arterial sist√™mica. Quais est√£o corretas?",
    "options": {
      "A": "Apenas I e II.",
      "B": "Apenas I e III.",
      "C": "Apenas II e III.",
      "D": "I, II e III."
    },
    "correct": "D",
    "explanation": "Todas as assertivas est√£o corretas: I porque a medi√ß√£o anual √© indicada para press√£o abaixo de 140/90 mmHg; II porque o diagn√≥stico correto deve considerar medidas fora do consult√≥rio, quando poss√≠vel; III porque hist√≥ria pr√©via de pr√©-ecl√¢mpsia √© fator de risco conhecido para HAS."
  },
  // ... (outras quest√µes)
  {
    "numero": 100,
    "area": "MPS",
    "question": "O uso de l√≠tio √© a terapia mais eficaz nos transtornos do humor. Tem efic√°cia reconhecida contra depress√£o e mania, al√©m de ter a√ß√£o antissuicida em longo prazo em pacientes com transtorno bipolar. No entanto, a medica√ß√£o apresenta janela terap√™utica estreita, exigindo maior aten√ß√£o e monitoramento das intera√ß√µes medicamentosas para prevenir quadros de intoxica√ß√£o. Qual das medica√ß√µes abaixo N√ÉO causa eleva√ß√£o dos n√≠veis s√©ricos de l√≠tio?",
    "options": {
      "A": "Propranolol.",
      "B": "Enalapril.",
      "C": "Nimesulida.",
      "D": "Hidroclorotiazida."
    },
    "correct": "A",
    "explanation": "Propranolol n√£o eleva os n√≠veis s√©ricos de l√≠tio. J√° Enalapril (IECA), Nimesulida (AINE) e Hidroclorotiazida (diur√©tico tiaz√≠dico) podem aumentar a concentra√ß√£o de l√≠tio e risco de toxicidade."
  }
];

    let questions = [...allQuestions]; // full list
    let current = 0;
    let flagged = new Set();

    function renderQuestion() {
      const q = questions[current];
      if (!q) return;

      document.getElementById('question-box').innerHTML =
        `<strong>(${current + 1}/${questions.length}) ${q.area}:</strong><br>${q.question}`;

      const optionsHTML = Object.entries(q.options).map(([key, text]) => {
        return `<div class="option"><label><input type="radio" name="option" value="${key}"> ${key}) ${text}</label></div>`;
      }).join("");

      document.getElementById('options-box').innerHTML = optionsHTML;
      document.getElementById('explanation').style.display = 'none';
      document.getElementById('explanation').innerText = '';
    }

    document.getElementById('next').onclick = () => {
      if (current < questions.length - 1) {
        current++;
        renderQuestion();
      }
    };

    document.getElementById('prev').onclick = () => {
      if (current > 0) {
        current--;
        renderQuestion();
      }
    };

    document.getElementById('show-answer').onclick = () => {
      const q = questions[current];
      const selected = document.querySelector('input[name="option"]:checked');
      if (!selected) {
        alert("Selecione uma alternativa.");
        return;
      }

      const value = selected.value;
      document.querySelectorAll('input[name="option"]').forEach(input => {
        const label = input.parentElement.parentElement;
        if (input.value === q.correct) label.classList.add('correct');
        else if (input.checked) label.classList.add('incorrect');
      });

      const exp = document.getElementById('explanation');
      exp.style.display = 'block';
      exp.innerText = `Gabarito: ${q.correct}\nExplica√ß√£o: ${q.explanation}`;
    };

    document.getElementById('flag-toggle').onclick = () => {
      const id = questions[current].numero;
      if (flagged.has(id)) {
        flagged.delete(id);
        alert("Desmarcado.");
      } else {
        flagged.add(id);
        alert("Quest√£o marcada.");
      }
    };

    document.getElementById('filter-flagged').onclick = () => {
      if (flagged.size === 0) {
        alert("Nenhuma quest√£o marcada.");
        return;
      }
      questions = allQuestions.filter(q => flagged.has(q.numero));
      current = 0;
      renderQuestion();
    };

    renderQuestion();
  </script>
</body>
</html>
