async function init() {
  try {
    const response = await fetch('questions.json');
    if (!response.ok) throw new Error('Erro ao carregar o arquivo JSON');

    const allQuestions = await response.json();

    // Agrupar perguntas por área
    const areas = ['Clínica Médica', 'Cirurgia Geral', 'Pediatria', 'MPS', 'Ginecologia e Obstetrícia'];
    const grouped = {};

    areas.forEach(area => grouped[area] = []);

    allQuestions.forEach(q => {
      if (grouped[q.area]) grouped[q.area].push(q);
    });

    // Selecionar 5 aleatórias por área
    questions = areas.flatMap(area => shuffle(grouped[area]).slice(0, 5));

    showQuestion();
    document.getElementById('next').onclick = () => navigate(1);
    document.getElementById('prev').onclick = () => navigate(-1);
    document.getElementById('flag-icon').onclick = toggleFlagIcon;
    document.getElementById('show-flagged').onclick = showFlaggedQuestions;

  } catch (err) {
    console.error('Erro ao inicializar o app:', err);
    alert('Erro ao carregar as questões. Veja o console para mais detalhes.');
  }
}
