<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simulado AMRIGS</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #0e1a2b;
      color: #ffffff;
    }

    main {
      max-width: 800px;
      margin: auto;
      background: #16273e;
      padding: 30px;
      border-radius: 10px;
      margin-top: 40px;
      box-shadow: 0 0 15px rgba(0,0,0,0.4);
      position: relative;
    }

    nav {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .btn {
      background-color: #1f3b5b;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
    }

    .btn:hover {
      background-color: #29527a;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    .option-label {
      display: block;
      background: #1b2c47;
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .option-label:hover {
      background: #244063;
    }

    .correct {
      background: #225c2e !important;
    }

    .wrong {
      background: #762c2c !important;
    }

    #flag-icon {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
    }

    .flagged {
      color: yellow;
    }

    #show-flagged {
      position: fixed;
      top: 50px;
      right: 20px;
      z-index: 1001;
      background-color: #f5a623;
      color: black;
    }

    #results {
      display: none;
      padding: 20px;
      background: #1b2c47;
      border-radius: 10px;
      max-width: 900px;
      margin: auto;
      margin-top: 40px;
    }

    details {
      margin-bottom: 15px;
    }

    summary {
      font-weight: bold;
    }

    .filters {
      margin-bottom: 15px;
    }

    .filters button {
      margin-right: 10px;
    }

    #flag-sidebar {
      position: fixed;
      top: 0;
      right: -400px;
      width: 300px;
      height: 100vh;
      background: #1b2c47;
      color: white;
      padding: 20px;
      overflow-y: auto;
      transition: right 0.3s ease;
      z-index: 1000;
      box-shadow: -2px 0 10px rgba(0,0,0,0.6);
    }

    #flag-sidebar.show {
      right: 0;
    }

    #flag-sidebar h3 {
      margin-top: 0;
    }

    .flagged-question {
      margin-bottom: 20px;
      cursor: pointer;
      border-bottom: 1px solid #444;
      padding-bottom: 10px;
    }

    .flagged-question:hover {
      background-color: #244063;
    }
  </style>
</head>
<body>

  <main>
    <div id="flag-icon">⚑</div>
    <h2 id="area-title"></h2>
    <p id="question-text"></p>
    <ul id="options"></ul>
    <p id="feedback"></p>
    <button class="btn" id="show-flagged">Marcadas</button>
    <nav>
      <button class="btn" id="prev">Anterior</button>
      <button class="btn" id="next">Próxima</button>
    </nav>
  </main>

  

  <div id="flag-sidebar">
    <h3>Questões Marcadas</h3>
    <button class="btn" onclick="toggleFlagSidebar()">Fechar</button>
    <div id="flagged-list"></div>
  </div>

  <div id="results">
    <h2>Resultado</h2>
    <p id="score"></p>
    <div class="filters">
      <button class="btn" onclick="showFilteredQuestions('all')">Todas as Perguntas</button>
      <button class="btn" onclick="showFilteredQuestions('correct')">Corretas</button>
      <button class="btn" onclick="showFilteredQuestions('incorrect')">Incorretas</button>
    </div>
    <div id="explanations"></div>
  </div>
  <script>
    let idx = 0;
    let score = 0;
    const flagged = new Set();

    const questions = [
  {
    "numero": 1,
    "area": "Clínica Médica",
    "question": "Sobre a hipertensão arterial sistêmica, analise as assertivas a seguir: I. Para diagnóstico, indica-se a medição anual de pressão arterial se a pressão arterial aferida for inferior a 140/90 mmHg. II. O diagnóstico da hipertensão arterial sistêmica deve ser baseado na medição da pressão fora do consultório com monitorização ambulatorial da pressão arterial, desde que seja viável sua realização. III. História prévia de pré-eclâmpsia em mulheres é fator de risco para hipertensão arterial sistêmica. Quais estão corretas?",
    "options": {
      "A": "Apenas I e II.",
      "B": "Apenas I e III.",
      "C": "Apenas II e III.",
      "D": "I, II e III."
    },
    "correct": "D",
    "explanation": "Todas as assertivas estão corretas: I porque a medição anual é indicada para pressão abaixo de 140/90 mmHg; II porque o diagnóstico correto deve considerar medidas fora do consultório, quando possível; III porque história prévia de pré-eclâmpsia é fator de risco conhecido para HAS."
  },
  {
    "numero": 2,
    "area": "Clínica Médica",
    "question": "Sobre a dengue, analise as assertivas a seguir: I. Existem técnicas laboratoriais para identificação do vírus (até o 5º dia de início da doença) e pesquisa de anticorpos (a partir do 6º dia de início da doença). II. O tratamento inclui medidas de suporte, hidratação, repouso e antibioticoterapia. III. O controle do vetor Aedes aegypti é o principal método para a prevenção. Quais estão corretas?",
    "options": {
      "A": "Apenas I e II.",
      "B": "Apenas I e III.",
      "C": "Apenas II e III.",
      "D": "I, II e III."
    },
    "correct": "B",
    "explanation": "I está correta pois a detecção do vírus ocorre nos primeiros 5 dias e anticorpos depois; III está correta porque o controle do Aedes aegypti é o principal método preventivo. II está incorreta porque a antibioticoterapia não faz parte do tratamento da dengue."
  },
  {
    "numero": 3,
    "area": "Clínica Médica",
    "question": "Em relação ao colesterol, analise as assertivas a seguir: I. Níveis elevados de HDL-C costumam estar relacionados a menor risco cardiovascular. II. Altos níveis de HDL-C decorrentes de algumas doenças genéticas podem não proteger de doença cardiovascular, provavelmente em razão das alterações metabólicas e lipídicas concomitantes. III. Causas secundárias de HDL-C elevado incluem cirrose biliar primária, hipertireoidismo e alcoolismo sem cirrose. Quais estão corretas?",
    "options": {
      "A": "Apenas I e II.",
      "B": "Apenas I e III.",
      "C": "Apenas II e III.",
      "D": "I, II e III."
    },
    "correct": "A",
    "explanation": "I está correta pois HDL-C elevado geralmente é protetor; II está correta pois algumas mutações genéticas que elevam HDL-C não conferem proteção cardiovascular; III está incorreta porque hipertireoidismo geralmente reduz HDL-C, não eleva."
  },
  {
    "numero": 4,
    "area": "Clínica Médica",
    "question": "Em relação à leptospirose, analise as assertivas a seguir: I. A penetração do Leptospira ocorre apenas a partir de lesões de pele imersa por longos períodos em água contaminada. II. O período de incubação pode variar de 1 a 30 dias e normalmente ocorre entre 7 e 14 dias após a exposição a situações de risco. III. A antibioticoterapia está indicada em qualquer período da doença, mas sua eficácia costuma ser maior na 1ª semana do início dos sintomas. Quais estão corretas?",
    "options": {
      "A": "Apenas I e II.",
      "B": "Apenas I e III.",
      "C": "Apenas II e III.",
      "D": "I, II e III."
    },
    "correct": "C",
    "explanation": "I está incorreta porque a penetração do Leptospira pode ocorrer também por mucosas e pequenas lesões de pele, não apenas lesões imersas prolongadamente; II e III estão corretas quanto ao período de incubação e indicação da antibioticoterapia precoce."
  },
  {
    "numero": 5,
    "area": "Clínica Médica",
    "question": "Em relação à nefropatia diabética, analise as assertivas a seguir: I. No estágio de nefropatia incipiente, ainda não há alteração na membrana basal glomerular nem no mesângio. II. A nefropatia clínica é caracterizada pela proteinúria persistente superior a 500 mg/24h, excreção urinária de albumina superior a 200 mg/L e declínio da taxa de filtração glomerular. III. No estágio de doença renal crônica, estabelecida a proteinúria, os pacientes passam a perder gradativamente a função renal, e mais de 10% evoluem para a doença renal crônica. Quais estão corretas?",
    "options": {
      "A": "Apenas I e II.",
      "B": "Apenas I e III.",
      "C": "Apenas II e III.",
      "D": "I, II e III."
    },
    "correct": "*",
    "explanation": "Questão anulada!"
  },
  {
    "numero": 21,
    "area": "Cirurgia Geral",
    "question": "Paciente em NPO em pós-operatório necessita receber volume adequado de líquidos e quantidade adequada de eletrólitos. Quais são os valores corretos das necessidades básicas (mEq/quilo/dia) de sódio e de potássio, respectivamente?",
    "options": {
      "A": "1,3 e 3,4.",
      "B": "2,0 e 1,0.",
      "C": "3,4 e 1,3.",
      "D": "19,0 e 22,9."
    },
    "correct": "B",
    "explanation": "Valores corretos para necessidades diárias básicas são aproximadamente 2 mEq/kg/dia para sódio e 1 mEq/kg/dia para potássio."
  },
  {
    "numero": 22,
    "area": "Cirurgia Geral",
    "question": "A doença de Crohn é caracterizada por um processo inflamatório que compromete o intestino e pode causar dor abdominal, diarreia e perda de peso. Sobre a doença de Crohn, assinale a alternativa correta.",
    "options": {
      "A": "O processo inflamatório limita-se à mucosa da parede intestinal.",
      "B": "A etiologia está sempre associada a agentes infecciosos.",
      "C": "Todas as camadas da parede intestinal são comprometidas pela inflamação.",
      "D": "Compromete unicamente o íleo terminal."
    },
    "correct": "C",
    "explanation": "A doença de Crohn é caracterizada por inflamação transmural, atingindo todas as camadas da parede intestinal."
  },
  {
    "numero": 23,
    "area": "Cirurgia Geral",
    "question": "Paciente adulto, em pós-operatório de grande cirurgia, apresenta edema generalizado em membro inferior direito e dor na panturrilha, mais acentuada à flexão do pé direito. Considerando o caso apresentado, a hipótese diagnóstica mais provável é:",
    "options": {
      "A": "Traumatismo por mobilização excessiva.",
      "B": "Oclusão arterial aguda.",
      "C": "Trombose venosa profunda.",
      "D": "Tromboangeíte obliterante."
    },
    "correct": "C",
    "explanation": "Edema e dor na panturrilha com sinal de Homans sugerem trombose venosa profunda, comum no pós-operatório."
  },
  {
    "numero": 24,
    "area": "Cirurgia Geral",
    "question": "Em pacientes adultos, obstruções intestinais em colón causadas por doença neoplásica são mais comuns no:",
    "options": {
      "A": "Ângulo hepático.",
      "B": "Ângulo esplênico.",
      "C": "Colón transverso.",
      "D": "Colón esquerdo."
    },
    "correct": "D",
    "explanation": "Tumores no cólon esquerdo são mais propensos a causar obstruções intestinais devido ao calibre menor e conteúdo mais sólido."
  },
  {
    "numero": 25,
    "area": "Cirurgia Geral",
    "question": "Paciente adulto, sexo masculino, apresenta quadro de estenose pilórica. Considerando o quadro, assinale a alternativa que apresenta o diagnóstico mais provável.",
    "options": {
      "A": "Carcinoma gástrico.",
      "B": "Úlcera péptica duodenal.",
      "C": "Pólipos gástricos.",
      "D": "Fitobezoar gástrico."
    },
    "correct": "B",
    "explanation": "Úlcera péptica duodenal pode causar estenose pilórica por fibrose e inflamação crônica."
    },
    {
    "numero": 41,
    "area": "Ginecologia e Obstetrícia",
    "question": "Em relação ao sangramento uterino anormal em uma mulher na menacme, é correto afirmar que:",
    "options": {
      "A": "Sempre se deve descartar um caso de gravidez.",
      "B": "O encaminhamento para especialista deve ser feito se não houver resposta ao tratamento clínico otimizado por 3 semanas.",
      "C": "É irrelevante verificar o índice de massa corporal da paciente.",
      "D": "A espessura endometrial, verificada por ecografia pélvica transvaginal, faz parte da investigação em qualquer fase do ciclo menstrual."
    },
    "correct": "A",
    "explanation": "Sangramento uterino anormal pode estar relacionado a gravidez, incluindo abortamento ou gravidez ectópica, que devem ser sempre descartados inicialmente."
  },
  {
    "numero": 42,
    "area": "Ginecologia e Obstetrícia",
    "question": "Paciente de 34 anos vem à consulta por sangramento uterino anormal há 2 meses. No exame físico especular, foi identificada uma lesão polipoide, friável, extruindo pelo colo uterino. A paciente tem dosagem de progesterona de 4 ng/ml (valores de normalidade após a ovulação = 5 a 20 ng/ml). A hipótese diagnóstica mais provável e a conduta adequada são, respectivamente:",
    "options": {
      "A": "Câncer de colo uterino – realizar citopatológico.",
      "B": "Pólipos cervicais prolapsados – encaminhar para ginecologista.",
      "C": "Abortamento em curso – encaminhar para uma emergência obstétrica.",
      "D": "Mola hidatiforme – iniciar tratamento com metotrexato."
    },
    "correct": "B",
    "explanation": "Lesões polipoides friáveis no colo uterino são compatíveis com pólipos cervicais, que devem ser avaliados e tratados por ginecologista."
  },
  {
    "numero": 43,
    "area": "Ginecologia e Obstetrícia",
    "question": "Uma paciente de 60 anos, pós-menopáusica, traz uma mamografia convencional de rotina que revela um novo agrupamento de microcalcificações pleomórficas numa pequena área da mama direita. Nega cirurgias prévias. A conduta mais adequada no caso consiste em:",
    "options": {
      "A": "Repetir a mamografia em 6 meses para verificar se há evolução das microcalcificações. Se não houver evolução, continuar com a avaliação de rotina.",
      "B": "Solicitar cálcio sérico com correção da albumina para verificar risco de aterosclerose.",
      "C": "Encaminhar para centro de referência para realizar biópsia da lesão.",
      "D": "Solicitar mamografia digital com incidências adicionais de Eklund."
    },
    "correct": "C",
    "explanation": "Microcalcificações pleomórficas novas em mama pós-menopáusica são suspeitas para malignidade e requerem biópsia para diagnóstico definitivo."
  },
  {
    "numero": 44,
    "area": "Ginecologia e Obstetrícia",
    "question": "São opções terapêuticas para os sintomas vasomotores da síndrome climatérica:\nI. Modificações de estilo de vida: roupas leves, temperatura ambiente mais baixa e não fumar.\nII. Terapia de reposição hormonal sistêmica.\nIII. Uso de inibidores seletivos da recaptação de serotonina e inibidores seletivos de recaptação da serotonina e noradrenalina.",
    "options": {
      "A": "Apenas I.",
      "B": "Apenas II.",
      "C": "Apenas I e II.",
      "D": "I, II e III."
    },
    "correct": "D",
    "explanation": "Todas as opções listadas são utilizadas no manejo dos sintomas vasomotores da menopausa, dependendo do quadro e da tolerância da paciente."
  },
  {
    "numero": 45,
    "area": "Ginecologia e Obstetrícia",
    "question": "Mulher de 31 anos está sendo investigada por amenorreia secundária. O exame de gravidez é negativo, não faz uso de medicamentos, nega alterações de peso, alterações neurológicas, saída de leite pelas mamas ou procedimento cirúrgico recente. O exame de prolactina, da tireoide e do hormônio estimulante do folículo estavam dentro da normalidade. Após ter utilizado 10 mg de acetato de medroxiprogesterona por via oral por 10 dias, a paciente teve um sangramento pela vagina, que durou só um dia. A hipótese diagnóstica mais provável é:",
    "options": {
      "A": "Síndrome dos ovários policísticos.",
      "B": "Síndrome de Kallmann.",
      "C": "Insuficiência ovariana prematura.",
      "D": "Insensibilidade aos androgênios."
    },
    "correct": "A",
    "explanation": "A amenorreia secundária com sangramento após progesterona sugere anovulação, característico da síndrome dos ovários policísticos."
  },
  {
    "numero": 62,
    "area": "Pediatria",
    "question": "Ao nascimento, RN apresenta falo de 2,3 cm com fusão de saliências labioescrotais e gônadas impalpáveis. Qual é o diagnóstico de Anormalidade de Diferenciação Sexual (ADS) mais comum em RNs com genitália atípica?",
    "options": {
      "A": "ADS XX ovotesticular.",
      "B": "ADS XX hiperplasia adrenal congênita.",
      "C": "ADS XY hiperplasia adrenal congênita.",
      "D": "ADS XY/X disgenesia gonadal mista."
    },
    "correct": "B",
    "explanation": "A hiperplasia adrenal congênita em indivíduos XX é a causa mais comum de anormalidade da diferenciação sexual em recém-nascidos com genitália ambígua, devido à exposição excessiva de andrógenos."
  },
  {
    "numero": 63,
    "area": "Pediatria",
    "question": "O seguimento ambulatorial do RN prematuro é uma extensão dos cuidados iniciados ainda na UTI neonatal. Em relação a esse acompanhamento, assinale a alternativa INCORRETA.",
    "options": {
      "A": "O programa de seguimento do RN de risco se inicia ainda durante a internação hospitalar, antes da alta.",
      "B": "Um crescimento exagerado do perímetro cefálico nos primeiros meses de vida pode estar relacionado com pior prognóstico neurológico.",
      "C": "RNs que apresentam maior catch-up nos primeiros anos terão maior risco de desenvolverem doença cardiovascular na adolescência.",
      "D": "O calendário vacinal do prematuro é realizado de acordo com a sua idade corrigida."
    },
    "correct": "D",
    "explanation": "O calendário vacinal do prematuro deve ser realizado de acordo com a idade cronológica, não a idade corrigida, para garantir proteção adequada contra doenças preveníveis."
  },
  {
    "numero": 64,
    "area": "Pediatria",
    "question": "A enfermagem comunica ao médico que o teste do coraçãozinho de um RN com 37 semanas de idade gestacional foi feito com 26 horas de vida. O resultado foi 89% no membro superior direito e 92% no membro inferior esquerdo. Qual é a melhor conduta nesse caso?",
    "options": {
      "A": "Solicitar ecocardiograma imediatamente para descartar cardiopatia congênita cianótica.",
      "B": "Solicitar eletrocardiograma imediatamente para descartar alterações do ritmo cardíaco.",
      "C": "Repetir o teste do coraçãozinho em 1 hora e reavaliar resultado.",
      "D": "Não é necessária conduta adicional, já que a diferença de saturação entre os dois membros é de 3%."
    },
    "correct": "A",
    "explanation": "Saturações abaixo de 90% no teste do coraçãozinho indicam necessidade de investigação urgente para cardiopatias congênitas cianóticas, justificando ecocardiograma imediato."
  },
  {
    "numero": 65,
    "area": "Pediatria",
    "question": "O médico é chamado no alojamento conjunto para avaliar um RN a termo que nasceu há 20 horas e está sem diurese. Sobre a conduta nesse caso, assinale a alternativa correta.",
    "options": {
      "A": "Aguardar, pois o RN normal pode retardar a sua primeira diurese por cerca de 24 a 36 horas.",
      "B": "Solicitar à enfermagem a sondagem vesical para monitorização da diurese.",
      "C": "Aguardar por mais 6 horas e, caso se mantenha sem diurese, solicitar exame comum de urina e urocultura em amostra obtida por cateterismo vesical.",
      "D": "Realizar ecografia renal com 24 horas de vida para averiguar a presença de agenesia renal."
    },
    "correct": "A",
    "explanation": "A primeira diurese pode ocorrer até 24-36 horas de vida em recém-nascidos normais, sendo esperado aguardar esse período antes de intervenções invasivas."
  },
  {
    "numero": 66,
    "area": "Pediatria",
    "question": "João tem 8 anos, e Maria tem 11 anos. Ao exame físico, foi constatado que João apresenta crescimento testicular e aumento do comprimento peniano. Em Maria, nota-se a presença de broto mamário. Como são classificados os achados descritos em relação à escala de Turner (G e M) e às suas idades?",
    "options": {
      "A": "João – Turner 3, com achados de puberdade precoce para a sua idade; Maria – Turner 2, com achados normais de puberdade para a sua idade.",
      "B": "João – Turner 4, com achados de puberdade precoce para a sua idade; Maria – Turner 2, com achados de atraso puberal para a sua idade.",
      "C": "João – Turner 3, com achados normais de puberdade para a sua idade; Maria – Turner 1, com achados normais de puberdade para a sua idade.",
      "D": "João – Turner 4, com achados normais de puberdade para a sua idade; Maria – Turner 1, com achados de atraso puberal para a sua idade."
    },
    "correct": "B",
    "explanation": "João apresenta puberdade precoce (Turner 4 corresponde a estágio avançado para idade) e Maria apresenta broto mamário, mas com atraso puberal (Turner 2), condizente com a idade cronológica para meninas."
  },
  {
    "numero": 95,
    "area": "MPS",
    "question": "Qual das seguintes características distingue uma coorte histórica de um estudo de caso-controle quando ambos estão investigando a mesma doença?",
    "options": {
      "A": "A coorte histórica estuda doenças raras de forma mais eficiente do que o caso-controle.",
      "B": "A coorte histórica permite calcular a razão de odds, enquanto o caso-controle calcula o risco relativo.",
      "C": "A coorte histórica utiliza dados de exposição previamente coletados, enquanto o caso-controle baseia-se em dados de desfecho.",
      "D": "Ambos os estudos usam os mesmos métodos para selecionar casos e controles."
    },
    "correct": "C",
    "explanation": "A coorte histórica é baseada em dados já existentes sobre exposição e acompanha para verificar desfechos; o caso-controle começa pela seleção de casos e controles baseando-se no desfecho."
  },
  {
    "numero": 96,
    "area": "MPS",
    "question": "Um paciente é suspeito de ter uma infecção bacteriana grave. Dois testes rápidos, aplicados em paralelo, mostraram-se contraditórios: o primeiro deu positivo, e o segundo, negativo. Como interpretar esse resultado?",
    "options": {
      "A": "O paciente deve ser considerado negativo, pois um dos testes foi negativo.",
      "B": "O paciente deve ser considerado positivo, já que apenas um resultado positivo é necessário em testes em paralelo.",
      "C": "O paciente deve ser retestado com um terceiro teste para maior certeza.",
      "D": "O paciente está livre de infecção, já que não há concordância entre os testes."
    },
    "correct": "B",
    "explanation": "Testes em paralelo consideram positivo se qualquer teste for positivo, aumentando sensibilidade; negativo só se todos forem negativos."
  },
  {
    "numero": 97,
    "area": "MPS",
    "question": "O que é um teste “padrão-ouro”?",
    "options": {
      "A": "Um teste com 100% de sensibilidade.",
      "B": "Um teste com 100% de especificidade.",
      "C": "Um teste usado como referência para avaliar outros testes.",
      "D": "Um teste com 100% de acurácia."
    },
    "correct": "C",
    "explanation": "O padrão-ouro é o método ou teste aceito como referência para diagnosticar uma condição, usado para comparar a performance de novos testes."
  },
  {
    "numero": 98,
    "area": "MPS",
    "question": "Em um estudo sobre a eficácia de um novo teste de triagem para câncer de bexiga, apesar de a mortalidade por câncer de bexiga permanecer constante, os pacientes que foram diagnosticados precocemente por exames regulares apresentaram uma sobrevida média de 5 anos, enquanto os diagnosticados após o surgimento de sintomas tiveram uma sobrevida de 2 anos. Qual é a explicação mais provável?",
    "options": {
      "A": "O novo método de rastreamento precoce parece ser a única explicação para o aumento da sobrevida observada.",
      "B": "Um viés pode estar distorcendo os resultados, já que o diagnóstico precoce apenas aumenta o tempo entre o diagnóstico e a morte.",
      "C": "O estudo prova que o rastreamento de câncer de bexiga é eficaz para prolongar a vida dos pacientes.",
      "D": "Pacientes diagnosticados precocemente sempre apresentam resultados melhores do que os que são diagnosticados após sintomas."
    },
    "correct": "B",
    "explanation": "Esse fenômeno é chamado viés de lead time, em que o diagnóstico precoce aumenta o tempo conhecido da doença sem necessariamente aumentar a sobrevida real."
  },
  {
    "numero": 99,
    "area": "MPS",
    "question": "No atendimento a vítimas de catástrofes, violências ou acidentes, algumas abordagens podem ser adotadas para auxiliar na prevenção do desenvolvimento de transtornos mentais após eventos traumáticos, principalmente o Transtorno de Estresse Pós-Traumático (TEPT). São abordagens recomendadas as mencionadas a seguir, EXCETO:",
    "options": {
      "A": "Evitar a retraumatização, não induzindo o paciente a descrever o evento traumático, nem o forçando a retornar à cena violenta. Deve-se priorizar a anamnese objetiva quanto aos dados da situação traumática, por meio de entrevistas com familiares ou terceiros envolvidos (testemunhas, policiais, bombeiros, socorristas, etc.), e não diretamente com o paciente.",
      "B": "Fazer o reasseguramento, reforçando a condição atual de estabilidade clínica e segurança do paciente, afastando-o do ambiente da cena traumática, valorizando o “aqui e agora estou seguro” (ambiente hospitalar/unidade de saúde, presença da equipe de saúde, equipe de segurança, familiares, etc.).",
      "C": "Administrar benzodiazepínicos na maioria dos casos, com objetivo de reduzir o sofrimento agudo (ansiedade, medo, insônia) relacionado ao trauma.",
      "D": "Evitar a vitimização, procurando não valorizar o impacto destruidor do trauma, não patologizar e não se referir a sintomas reacionais como doença mental."
    },
    "correct": "C",
    "explanation": "O uso de benzodiazepínicos não é recomendado rotineiramente para casos agudos, pois pode dificultar o processamento do trauma e prolongar sintomas. As outras abordagens são indicadas."
  }
];

    function init() {
      showQuestion();
      document.getElementById('next').onclick = () => navigate(1);
      document.getElementById('prev').onclick = () => navigate(-1);
      document.getElementById('flag-icon').onclick = toggleFlagIcon;
      document.getElementById('show-flagged').onclick = showFlaggedQuestions;
    }

    function showQuestion() {
      const q = questions[idx];
      document.getElementById('area-title').textContent = q.area;
      document.getElementById('question-text').textContent = `${q.numero}. ${q.question}`;

      const opts = document.getElementById('options');
      opts.innerHTML = '';

      for (const key in q.options) {
        const li = document.createElement('li');
        const label = document.createElement('label');
        label.className = 'option-label';

        if (q.answered) {
          if (key === q.correct) label.classList.add('correct');
          else if (key === q.answered) label.classList.add('wrong');
        }

        const input = document.createElement('input');
        input.type = 'radio';
        input.name = 'option';
        input.disabled = !!q.answered;
        input.checked = q.answered === key;
        input.onclick = () => selectAnswer(key);

        const span = document.createElement('span');
        span.textContent = `${key}) ${q.options[key]}`;

        label.appendChild(input);
        label.appendChild(span);
        li.appendChild(label);
        opts.appendChild(li);
      }

      const feedback = document.getElementById('feedback');
      if (q.answered) {
        feedback.textContent = q.answered === q.correct
          ? 'Resposta correta!'
          : `Errado. A resposta correta é: ${q.correct}) ${q.options[q.correct]}`;
        feedback.style.color = q.answered === q.correct ? 'lightgreen' : 'tomato';
      } else {
        feedback.textContent = '';
      }

      updateButtons();
      updateFlagButton();
    }

    function selectAnswer(choice) {
      const q = questions[idx];
      if (!q.answered) {
        q.answered = choice;
        if (choice === q.correct) score++;
      }
      showQuestion();
    }

    function navigate(step) {
      idx += step;
      if (idx < 0) idx = 0;
      if (idx >= questions.length) {
        showResults();
        return;
      }
      showQuestion();
    }

    function toggleFlagIcon() {
      flagged.has(idx) ? flagged.delete(idx) : flagged.add(idx);
      updateFlagButton();
    }

    function updateButtons() {
      document.getElementById('prev').disabled = idx === 0;
      document.getElementById('next').textContent = idx === questions.length - 1 ? 'Finalizar' : 'Próxima';
    }

    function updateFlagButton() {
      const icon = document.getElementById('flag-icon');
      icon.classList.remove('flagged');
      icon.textContent = flagged.has(idx) ? '✔️' : '⚑';
      if (flagged.has(idx)) icon.classList.add('flagged');
    }

    function showFlaggedQuestions() {
      if (flagged.size === 0) {
        alert('Nenhuma questão foi marcada ainda.');
        return;
      }

      const modal = document.createElement('div');
      modal.style.position = 'fixed';
      modal.style.top = '0';
      modal.style.left = '0';
      modal.style.width = '100vw';
      modal.style.height = '100vh';
      modal.style.background = 'rgba(0,0,0,0.7)';
      modal.style.display = 'flex';
      modal.style.justifyContent = 'center';
      modal.style.alignItems = 'center';
      modal.style.zIndex = 1000;

      const content = document.createElement('div');
      content.style.background = '#1b2c47';
      content.style.padding = '20px';
      content.style.borderRadius = '10px';
      content.style.color = '#fff';
      content.style.maxHeight = '90vh';
      content.style.overflowY = 'auto';

      const close = document.createElement('button');
      close.textContent = 'Fechar';
      close.className = 'btn';
      close.onclick = () => document.body.removeChild(modal);

      content.appendChild(close);
      flagged.forEach(i => {
        const q = questions[i];
        const div = document.createElement('div');
        div.innerHTML = `<h3>${q.numero}. ${q.area}</h3><p>${q.question}</p>`;
        const go = document.createElement('button');
        go.textContent = 'Ir para esta questão';
        go.className = 'btn';
        go.onclick = () => {
          idx = i;
          document.body.removeChild(modal);
          showQuestion();
        };
        div.appendChild(go);
        content.appendChild(div);
      });

      modal.appendChild(content);
      document.body.appendChild(modal);
    }

    function showResults() {
      document.querySelector('main').style.display = 'none';
      document.querySelector('nav').style.display = 'none';

      const results = document.getElementById('results');
      results.style.display = 'block';

      const pct = Math.round((score / questions.length) * 100);
      document.getElementById('score').textContent = `Você acertou ${score} de ${questions.length} questões (${pct}%).`;

      showFilteredQuestions('all');
    }

    function showFilteredQuestions(filter) {
  const ex = document.getElementById('explanations');
  ex.innerHTML = '';

  questions.forEach((q, i) => {
    const acertou = q.answered === q.correct;
    const foiMarcada = flagged.has(i);

    if (
      (filter === 'correct' && !acertou) ||
      (filter === 'incorrect' && acertou)
    ) return;

    const div = document.createElement('div');

    const marcadaTexto = foiMarcada
      ? `<br><span style="color: yellow;">⚑ Questão marcada</span>`
      : '';

    div.innerHTML =
      `<details>
        <summary style="color:${acertou ? 'lightgreen' : 'tomato'};">
          ${q.numero}. ${acertou ? 'Correta' : 'Errada'}
          <br><span style="color: white;">Sua resposta: ${q.answered ? `${q.answered}) ${q.options[q.answered]}` : '-'}</span>
          <br>Correta: ${q.correct}) ${q.options[q.correct]}
          ${marcadaTexto}
        </summary>
        <p style="margin-left:15px;">Explicação: ${q.explanation}</p>
      </details>`;
    ex.appendChild(div);
  });

    }

    init();
  </script>
</body>
</html>
